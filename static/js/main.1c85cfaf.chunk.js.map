{"version":3,"sources":["redux/types.js","redux/actions.js","images/skeletonheart.svg","images/hoveredheart.svg","images/clickedheart.svg","components/Cat.js","components/AllCats.js","components/Loader.js","components/LovelyCats.js","components/Navbar.js","App.js","redux/Reducer.js","index.js"],"names":["FETCHED_CATS","SET_LOVELY_CATS","NOT_LOVELY_ANYMORE","LOADER","setLovelyCats","payload","type","Cat","cat","lovelyCats","useState","catFocus","setCatFocus","showHeart","setShowHeart","skeletonHeart","heart","setHeart","dispatch","useDispatch","useEffect","map","x","id","includes","clickedHeart","className","onMouseOver","onMouseOut","src","url","alt","style","visibility","hoveredHeart","onClick","mapDispatchToProps","AllCats","connect","state","allCats","length","Loader","loader","useSelector","LovelyCats","fetchCats","a","fetch","headers","response","json","data","lovely","console","log","Error","message","Navbar","withRouter","props","currpath","location","pathname","to","App","path","exact","component","initialState","store","createStore","action","filter","compose","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1c85cfaf.chunk.js","sourcesContent":["export const FETCHED_CATS = \"FETCH_CATS\";\r\nexport const SET_LOVELY_CATS = \"SET_LOVELY_CATS\";\r\nexport const NOT_LOVELY_ANYMORE = \"NOT_LOVELY_ANYMORE\";\r\nexport const LOADER = \"LOADER\";","import {SET_LOVELY_CATS, FETCHED_CATS, LOADER} from \"./types.js\"\r\n\r\n\r\n\r\n\r\nconst url = \"https://api.thecatapi.com/v1/images/search?limit=100&breed_ids=beng\"\r\n\r\nexport function setLovelyCats(payload){\r\n    return {\r\n        type: SET_LOVELY_CATS,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function fetchCats() {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({type:LOADER,payload:true})\r\n            const response = await fetch(url,{\r\n                headers: {\r\n                    \"x-api-key\": \"8f641cc5-d472-4930-a04a-501460dfce02\",\r\n                }\r\n            }\r\n            );\r\n            const data = await response.json();\r\n            const payload = data.map(x=>x={id:x.id,url:x.url,lovely:false});\r\n            console.log(payload);\r\n            dispatch({ type: FETCHED_CATS, payload });\r\n            dispatch({type:LOADER,payload:false})\r\n        } catch(e) {\r\n            throw new Error(e.message);\r\n        }    \r\n    };\r\n  }","export default __webpack_public_path__ + \"static/media/skeletonheart.f7d0fb0a.svg\";","export default __webpack_public_path__ + \"static/media/hoveredheart.66d5a258.svg\";","export default __webpack_public_path__ + \"static/media/clickedheart.38e93f16.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { NOT_LOVELY_ANYMORE } from \"../redux/types\";\r\nimport skeletonHeart from \"../images/skeletonheart.svg\";\r\nimport hoveredHeart from \"../images/hoveredheart.svg\";\r\nimport clickedHeart from \"../images/clickedheart.svg\";\r\n\r\nexport function Cat({cat,setLovelyCats,lovelyCats}){\r\n    const [catFocus,setCatFocus] = useState(\"\");\r\n    const [showHeart,setShowHeart] = useState(\"hidden\");\r\n    const [heart,setHeart] = useState(skeletonHeart);\r\n    const dispatch = useDispatch();\r\n    useEffect(()=>{\r\n        if(lovelyCats.map(x=>x.id).includes(cat.id)===true){\r\n            setHeart(clickedHeart) \r\n            setShowHeart(\"visible\")\r\n        }\r\n        // eslint-disable-next-line\r\n    },[])\r\n    \r\n    function handleLovelyCats(){\r\n        if(lovelyCats.map(x=>x.id).includes(cat.id)){\r\n            setHeart(skeletonHeart)\r\n            dispatch({type:NOT_LOVELY_ANYMORE,payload:cat.id})\r\n        return;\r\n        }\r\n        setHeart(clickedHeart)\r\n        setLovelyCats(cat)\r\n    }\r\n    function handleMouseOver(){\r\n        setShowHeart(\"visible\")\r\n        setCatFocus(\"catfocus\");\r\n    \r\n    }\r\n    function handleMouseOut(){\r\n        if(heart!==clickedHeart){ \r\n            setShowHeart(\"hidden\")\r\n        }    \r\n        setCatFocus(\"\");\r\n       \r\n    }\r\n    function handleMouseHeartOver(){\r\n        if(heart!==clickedHeart){ \r\n            setHeart(hoveredHeart)\r\n        }\r\n\r\n    }\r\n    function handleMouseHeartOut(){\r\n        if(heart!==clickedHeart){ \r\n            setHeart(skeletonHeart)\r\n        }    \r\n    }\r\n    return(\r\n        <div className={`cat ${catFocus}`} onMouseOver={handleMouseOver} onMouseOut={handleMouseOut}>\r\n            <img src={`${cat.url}`} className=\"catImg\" alt=\"catPic\" />\r\n            <img \r\n            src={heart} \r\n            className=\"heart\" \r\n            style={{visibility:`${showHeart}`}} \r\n            alt=\"heartPic\" \r\n            onMouseOver={handleMouseHeartOver} \r\n            onMouseOut={handleMouseHeartOut}\r\n            onClick={handleLovelyCats} \r\n            />\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {setLovelyCats} from \"../redux/actions.js\"\r\nimport { Cat } from \"./Cat.js\";\r\n\r\n function AllCats_({allCats,lovelyCats,setLovelyCats}){\r\n \r\n    return (\r\n        <div className=\"cats\">\r\n            {allCats.length===0?null:allCats.map(cat=> \r\n            <Fragment key={cat.id}>\r\n               <Cat cat={cat} setLovelyCats={setLovelyCats} lovelyCats={lovelyCats}/>\r\n            </Fragment>\r\n            )}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        allCats: state.allCats,\r\n        lovelyCats: state.lovelyCats,\r\n    };\r\n  };\r\nconst mapDispatchToProps = {\r\n    setLovelyCats\r\n}\r\nexport const AllCats = connect(mapStateToProps,mapDispatchToProps)(AllCats_);","import React, { Fragment } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport function Loader(){\r\n    const loader = useSelector(state => state.loader);\r\n    return (\r\n        <Fragment>\r\n            {loader&&\r\n            <div className=\"loader\">\r\n                ... загружаем ещё котиков ...\r\n            </div>\r\n           }\r\n        </Fragment>\r\n    )\r\n}","import React, { Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {setLovelyCats} from \"../redux/actions.js\";\r\nimport { Cat } from \"./Cat.js\";\r\n\r\n function LovelyCats_({lovelyCats}){\r\n \r\n    return (\r\n        <div className=\"cats\">\r\n            {lovelyCats.length===0?null:lovelyCats.map(cat=> \r\n            <Fragment key={cat.id}>\r\n                <Cat cat={cat} setLovelyCats={setLovelyCats} lovelyCats={lovelyCats}/>\r\n            </Fragment>\r\n            )}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        lovelyCats: state.lovelyCats,\r\n    };\r\n  };\r\nconst mapDispatchToProps = {\r\n    setLovelyCats\r\n}\r\nexport const LovelyCats = connect(mapStateToProps,mapDispatchToProps)(LovelyCats_);","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport {fetchCats} from \"../redux/actions.js\"\r\n\r\nfunction Navbar_(props) { \r\n    let currpath = props.location.pathname;\r\n    const fetchCats = props.fetchCats;\r\n    useEffect(() => {\r\n        fetchCats();\r\n        // eslint-disable-next-line\r\n      }, []);\r\n    return ( \r\n        <nav className=\"navbar\">\r\n            <div className=\"navbar__item\">\r\n                <NavLink className={`navbar__link ${currpath===\"/frontend-challenge/\"?\"activelink\":\"\"}`} to=\"/frontend-challenge/\">\r\n                    Все котики\r\n                </NavLink>\r\n            </div>\r\n            <div className=\"navbar__item\">\r\n                <NavLink className={`navbar__link ${currpath===\"/frontend-challenge/levelycats\"?\"activelink\":\"\"}`} to=\"/frontend-challenge/levelycats\">\r\n                    Любимые котики\r\n                </NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchCats\r\n}\r\n\r\nexport const Navbar = withRouter(\r\n    connect(null, mapDispatchToProps)(Navbar_)\r\n);","import React from \"react\"\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { AllCats } from \"./components/AllCats\";\nimport { Loader } from \"./components/Loader\";\nimport { LovelyCats } from \"./components/LovelyCats\";\nimport { Navbar } from \"./components/Navbar\"\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <div className=\"Wrapper\">\n          <Navbar/>\n          <Loader/>\n          <Switch>\n            <Route path={\"/frontend-challenge/\"} exact component={AllCats} />\n            <Route path={\"/frontend-challenge/levelycats\"}  component={LovelyCats} />\n          </Switch>\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { FETCHED_CATS, LOADER, NOT_LOVELY_ANYMORE, SET_LOVELY_CATS } from \"./types\";\r\n\r\nconst initialState = {\r\n    allCats: [],\r\n    lovelyCats: [],\r\n    loader: false,\r\n}\r\n\r\nexport const Reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FETCHED_CATS:\r\n            return { ...state, allCats: [...state.allCats, ...action.payload] };\r\n\r\n        case SET_LOVELY_CATS:\r\n            return { ...state, lovelyCats: [...state.lovelyCats, action.payload]};\r\n\r\n        case NOT_LOVELY_ANYMORE:\r\n            return { ...state, lovelyCats: state.lovelyCats.filter(cat=>cat.id!==action.payload)};    \r\n\r\n        case LOADER:\r\n            return {\r\n              ...state,\r\n              loader: action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { Reducer } from './redux/Reducer';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(\n  Reducer,\n  compose(\n    applyMiddleware(thunk)\n  )\n);\n\nconst app = (\n  <Provider store = {store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(\n    app,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}